(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[79],{8633:function(e,s,a){Promise.resolve().then(a.bind(a,3922))},3922:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return v}});var t=a(7437),n=a(2265),l=a(6070),i=a(2339),r=a(9205);let c=(0,r.Z)("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);var d=a(1723);let o=(0,r.Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),u=(0,r.Z)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var m=a(2869),x=a(7648),h=a(7440),f=a(9376);function j(){return(0,t.jsxs)("div",{className:"container py-8",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c,{className:"text-primary"}),(0,t.jsx)("h2",{className:"text-2xl font-semibold",children:"Downloads"})]})}),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("div",{className:"grid w-full grid-cols-3 mb-6",children:(0,t.jsx)("div",{className:"skeleton h-10 rounded"})}),(0,t.jsx)(y,{count:3})]})]})}function p(){let{activeDownloads:e,completedDownloads:s,downloadHistory:a,clearHistory:r}=(0,h.G)(),[x,j]=(0,n.useState)(!0),p=(0,f.useSearchParams)().get("tab"),[v,g]=(0,n.useState)(p||"active");return(0,n.useEffect)(()=>{let e=setTimeout(()=>{j(!1)},500);return()=>clearTimeout(e)},[]),(0,n.useEffect)(()=>{p&&["active","completed","history"].includes(p)&&g(p)},[p]),(0,t.jsxs)("div",{className:"container py-8",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c,{className:"text-primary"}),(0,t.jsx)("h2",{className:"text-2xl font-semibold",children:"Downloads"})]})}),(0,t.jsxs)(i.mQ,{value:v,onValueChange:g,className:"w-full",children:[(0,t.jsxs)(i.dr,{className:"grid w-full grid-cols-3 mb-6",children:[(0,t.jsxs)(i.SP,{value:"active",className:"flex items-center gap-1",children:[(0,t.jsx)(d.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Active"})]}),(0,t.jsxs)(i.SP,{value:"completed",className:"flex items-center gap-1",children:[(0,t.jsx)(o,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Completed"})]}),(0,t.jsxs)(i.SP,{value:"history",className:"flex items-center gap-1",children:[(0,t.jsx)(u,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"History"})]})]}),(0,t.jsx)(i.nU,{value:"active",className:"space-y-4",children:x?(0,t.jsx)(y,{count:2}):e.length>0?e.map(e=>(0,t.jsx)("div",{children:(0,t.jsx)(l.Zb,{children:(0,t.jsx)(l.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"h-16 w-28 bg-gray-100 rounded",children:e.thumbnail&&(0,t.jsx)("img",{src:e.thumbnail,alt:e.title||"Download",className:"h-full w-full object-cover rounded"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-medium",children:e.title||"Downloading..."}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:(0,t.jsx)("div",{className:"bg-primary h-2 rounded-full",style:{width:"".concat(Math.round(e.progress)||0,"%")}})}),(0,t.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:e.phase||"Preparing"}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[Math.round(e.progress)||0,"%"]})]})]})]})})})},e.id)):(0,t.jsx)(N,{title:"No active downloads",description:"You don't have any downloads in progress.",actionText:"Find videos to download",actionLink:"/"})}),(0,t.jsx)(i.nU,{value:"completed",className:"space-y-4",children:x?(0,t.jsx)(y,{count:3}):s.length>0?s.map(e=>(0,t.jsx)("div",{children:(0,t.jsx)(l.Zb,{children:(0,t.jsx)(l.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"h-16 w-28 bg-gray-100 rounded",children:e.thumbnail&&(0,t.jsx)("img",{src:e.thumbnail,alt:e.title||"Download",className:"h-full w-full object-cover rounded"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-medium",children:e.title||"Download completed"}),(0,t.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:[e.fileSize?"".concat(e.fileSize," • "):"",e.completedAt?new Date(e.completedAt).toLocaleString():"Download complete"]}),(0,t.jsxs)("div",{className:"flex mt-2",children:[(0,t.jsx)(m.z,{size:"sm",variant:"outline",className:"mr-2",onClick:()=>e.outputFolder&&window.api.openFolder(e.outputFolder),children:"Open folder"}),(0,t.jsx)(m.z,{size:"sm",variant:"outline",onClick:()=>e.outputPath&&window.api.openFile(e.outputPath),children:"Play"})]})]})]})})})},e.id)):(0,t.jsx)(N,{title:"No completed downloads",description:"You haven't completed any downloads yet.",actionText:"Find videos to download",actionLink:"/"})}),(0,t.jsx)(i.nU,{value:"history",className:"space-y-4",children:x?(0,t.jsx)(y,{count:4}):a.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex justify-end mb-4",children:(0,t.jsx)(m.z,{variant:"outline",size:"sm",onClick:r,children:"Clear History"})}),a.map(e=>(0,t.jsx)("div",{children:(0,t.jsx)(l.Zb,{children:(0,t.jsx)(l.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"h-16 w-28 bg-gray-100 rounded",children:e.thumbnail&&(0,t.jsx)("img",{src:e.thumbnail,alt:e.title||"Download",className:"h-full w-full object-cover rounded"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"font-medium",children:e.title||"Download"}),"error"===e.status&&(0,t.jsx)("span",{className:"px-2 py-0.5 text-xs bg-red-100 text-red-800 rounded-full",children:"Failed"})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:[e.fileSize?"".concat(e.fileSize," • "):"",e.completedAt?new Date(e.completedAt).toLocaleString():"Download recorded"]}),"error"!==e.status&&(0,t.jsxs)("div",{className:"flex mt-2",children:[(0,t.jsx)(m.z,{size:"sm",variant:"outline",className:"mr-2",onClick:()=>e.outputFolder&&window.api.openFolder(e.outputFolder),children:"Open folder"}),(0,t.jsx)(m.z,{size:"sm",variant:"outline",onClick:()=>e.outputPath&&window.api.openFile(e.outputPath),children:"Play"})]}),"error"===e.status&&(0,t.jsx)("div",{className:"text-sm text-red-500 mt-1",children:e.error||"Download failed"})]})]})})})},e.id))]}):(0,t.jsx)(N,{title:"Download history",description:"You'll see your download history here.",actionText:"Find videos to download",actionLink:"/"})})]})]})}function v(){return(0,t.jsx)(n.Suspense,{fallback:(0,t.jsx)(j,{}),children:(0,t.jsx)(p,{})})}function N(e){let{title:s,description:a,actionText:n,actionLink:i}=e;return(0,t.jsxs)(l.Zb,{className:"flex flex-col items-center justify-center text-center p-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:(0,t.jsx)(c,{className:"text-primary h-8 w-8"})}),(0,t.jsx)(l.ll,{className:"text-xl mb-2",children:s}),(0,t.jsx)(l.SZ,{className:"mb-6",children:a}),(0,t.jsx)(m.z,{asChild:!0,children:(0,t.jsx)(x.default,{href:i,children:n})})]})}function y(e){let{count:s=3}=e;return(0,t.jsx)(t.Fragment,{children:Array.from({length:s}).map((e,s)=>(0,t.jsx)(l.Zb,{className:"w-full",children:(0,t.jsx)(l.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"h-16 w-28 skeleton rounded"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)("div",{className:"h-4 w-3/4 skeleton rounded"}),(0,t.jsx)("div",{className:"h-2 w-full skeleton rounded"}),(0,t.jsx)("div",{className:"h-4 w-1/4 skeleton rounded"})]})]})})},s))})}},2339:function(e,s,a){"use strict";a.d(s,{SP:function(){return d},dr:function(){return c},mQ:function(){return r},nU:function(){return o}});var t=a(7437),n=a(2265),l=a(271),i=a(4508);let r=l.fC,c=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,t.jsx)(l.aV,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...n})});c.displayName=l.aV.displayName;let d=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,t.jsx)(l.xz,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...n})});d.displayName=l.xz.displayName;let o=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,t.jsx)(l.VY,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...n})});o.displayName=l.VY.displayName},1723:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(9205).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},271:function(e,s,a){"use strict";a.d(s,{VY:function(){return M},aV:function(){return P},fC:function(){return F},xz:function(){return V}});var t=a(2265),n=a(6741),l=a(3966),i=a(1353),r=a(1599),c=a(6840),d=a(9114),o=a(886),u=a(9255),m=a(7437),x="Tabs",[h,f]=(0,l.b)(x,[i.Pc]),j=(0,i.Pc)(),[p,v]=h(x),N=t.forwardRef((e,s)=>{let{__scopeTabs:a,value:t,onValueChange:n,defaultValue:l,orientation:i="horizontal",dir:r,activationMode:x="automatic",...h}=e,f=(0,d.gm)(r),[j,v]=(0,o.T)({prop:t,onChange:n,defaultProp:l});return(0,m.jsx)(p,{scope:a,baseId:(0,u.M)(),value:j,onValueChange:v,orientation:i,dir:f,activationMode:x,children:(0,m.jsx)(c.WV.div,{dir:f,"data-orientation":i,...h,ref:s})})});N.displayName=x;var y="TabsList",g=t.forwardRef((e,s)=>{let{__scopeTabs:a,loop:t=!0,...n}=e,l=v(y,a),r=j(a);return(0,m.jsx)(i.fC,{asChild:!0,...r,orientation:l.orientation,dir:l.dir,loop:t,children:(0,m.jsx)(c.WV.div,{role:"tablist","aria-orientation":l.orientation,...n,ref:s})})});g.displayName=y;var b="TabsTrigger",w=t.forwardRef((e,s)=>{let{__scopeTabs:a,value:t,disabled:l=!1,...r}=e,d=v(b,a),o=j(a),u=z(d.baseId,t),x=D(d.baseId,t),h=t===d.value;return(0,m.jsx)(i.ck,{asChild:!0,...o,focusable:!l,active:h,children:(0,m.jsx)(c.WV.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":x,"data-state":h?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:u,...r,ref:s,onMouseDown:(0,n.M)(e.onMouseDown,e=>{l||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(t)}),onKeyDown:(0,n.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(t)}),onFocus:(0,n.M)(e.onFocus,()=>{let e="manual"!==d.activationMode;h||l||!e||d.onValueChange(t)})})})});w.displayName=b;var k="TabsContent",C=t.forwardRef((e,s)=>{let{__scopeTabs:a,value:n,forceMount:l,children:i,...d}=e,o=v(k,a),u=z(o.baseId,n),x=D(o.baseId,n),h=n===o.value,f=t.useRef(h);return t.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,m.jsx)(r.z,{present:l||h,children:a=>{let{present:t}=a;return(0,m.jsx)(c.WV.div,{"data-state":h?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":u,hidden:!t,id:x,tabIndex:0,...d,ref:s,style:{...e.style,animationDuration:f.current?"0s":void 0},children:t&&i})}})});function z(e,s){return"".concat(e,"-trigger-").concat(s)}function D(e,s){return"".concat(e,"-content-").concat(s)}C.displayName=k;var F=N,P=g,V=w,M=C}},function(e){e.O(0,[203,648,23,770,971,117,744],function(){return e(e.s=8633)}),_N_E=e.O()}]);